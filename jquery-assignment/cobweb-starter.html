<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>New This</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link href="bootstrap.css" rel="stylesheet">
  <script src="jquery.js"></script>
</head>
<body>

  <h1>.</h1>

  <script>

  // Here we are given a cob-web of items. Let's dig in and grab the items we need.
  var theCobWeb = {
    biggestWeb: {
      item: ["comb"],
      biggerWeb: {
        items: ["glasses", "paperclip", "bubblegum"],
        smallerWeb: {
          item: "toothbrush",
          tinyWeb: {
            items: ["toenails", "lint", "wrapper", "homework"]
          }
        }
      },
      otherBigWeb: {
        item: "headphones"
      }
    }
  };

//  function findUpTag(object, keyvalue) {
//      var found = false;
//      for(var property in object)
//      {
//          if(object.hasOwnProperty(property))
//          {
//              if(typeof object[property] === 'object')
//              {
//                  //find again until its not an Object
//                  found = findUpTag(object[property], keyvalue);
//                  if(found) return found;
//                  console.log(object[property]);
//              }
//              else
//              {
//                  key = Object.keys(keyvalue)[0];
//                  if(property === key && object[key]===keyvalue[key])
//                  {
//                      console.log('searchObject ' + keyvalue[key] + ' found');
//                      console.log("hihihi");
//                      return object;
//                  }
//              }
//          }
//      }
//  }


  //WILLIAM'S SOLUTION
  function search(word, myObj)
  {
      for(var i in myObj)
      {
          if(myObj[i] == word)
              return true;

          if(typeof myObj[i] == 'object')
          {
              var res = search(word, myObj[i]);
              if(res == true && myObj[i].constructor.name == 'Array') // kalo di dalem array, naik 1 ke parent Object nya
                                                                      // buat biggerWeb.items & tinyWeb.items, which are Array
                  return true;
              else if(res == true)
                  return i;
              else if(typeof res == 'string')//buat item.comb, which is STRING
                  return res;
          }
      }
  }


  //HANSEL'S SOLUTION
//  function findParent(word, myObj)
//  {
//      for(var key in myObj)
//      {
//          if(myObj[key] === word) return true; //if user search the property of the object, return the object and stop searching (base case)
//
//          if(typeof myObj[key] === 'object')
//          {
//              var res = findParent(word, myObj[key]);
//              if(Array.isArray(myObj[key]) && myObj[key].includes(word)) return true;
//              else if(res === true) return key;
//              else if(typeof res==='string')
//              {
//                  return res;
//              }
//          }
//      }


      //backup

//          if(myObj[key].item === word || myObj[key].items.includes(word)) return key;
//
//          var res = findParent(word, myObj[key]);
//          return res;
//          if(typeof myObj[key] === 'Array' && !myObj[key].items.includes(word))
//          {
//              return "haha";
//          }
//          else if(typeof myObj[key] !== 'Array' && myObj[key].item === word)
//          {
//              return "haha";
//          }

//        if(obj.item === label || obj.items === label) { return obj; }
//        for(var i in obj) {
//            if(obj.hasOwnProperty(i)){
//                var foundLabel = findParent(obj[i], label);
//                if(foundLabel) { return foundLabel; }
//            }
//        }
      //return null;
  }

// Create the code necessary to print each of the following lines using the object above:
// "I found my glasses!"
// "I found my toothbrush!"
// "I found my headphones!"
// "I found my homework!"
//  console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.items[0] + "!");
//  console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.smallerWeb.item + "!");
//  console.log("I found my " + theCobWeb.otherBigWeb.item + "!");
//  console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.smallerWeb.tinyWeb.items[3] + "!");

  //search("glasses", theCobWeb);
  //findUpTag(theCobWeb, "glasses");

  findParent("comb", theCobWeb);

// Bonus (Extra Hard): It's impossible to complete this in the allotted time. Take this home as a challenge and bring it back to your TA/Instructor for the solution.
//Create a function using JavaScript (NOT jQuery) for which you can pass the name of an item and theCobWeb
// and the function returns the smallest web it was found inside of.
// Your code should work if someone were to modify theCobWeb.  
//  for example if you gave your program 
//    comb it should give back biggestWeb
//    toenails it should give back tinyWeb
//    headphones it should give back otherBigWeb
// HINT: you should use recursion

</script>

</body>
</html>